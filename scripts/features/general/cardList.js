let ctx,$=window.$;import{gsap,ScrollTrigger,SplitType}from"../../vendor.js";import{centerVerticalClipPath,fullClipPath,centerHorizontalClipPath,bottomClipPath}from"../../utils/variables.js";import helperFunctions from"../../utils/helperFunctions.js";export default function initCardList(){const t=Webflow.require("lottie").lottie.getRegisteredAnimations();ctx=gsap.context((()=>{$("[data-animate=card-list-wrap]").each(((e,a)=>{$(a).find("[data-animate=card-list-item]").each(((e,a)=>{const i=$(a).find("[data-animate=card-fill-path]"),n=$(a).find("[data-animate=card-item-headline"),r=$(a).find(".arrow-icon-right"),o=r.data("direction"),l=$(a).find("[data-animate=card-animation]");let c;t.forEach((t=>{t.wrapper===l[0]&&(c=t)}));const d=gsap.timeline({paused:!0,defaults:{duration:.5,ease:"power3.inOut"}});n.length>0&&d.to(n,{x:"0.5rem"}),l.length>0&&d.from(l,{opacity:0,duration:.25,ease:"none"},"<"),"down"===o?d.to(r,{rotateZ:45},"<"):"up"===o&&d.to(r,{rotateZ:-45},"<"),$(a).on("mouseenter",(t=>{if(c){let t=0;c.addEventListener("complete",(function e(){t++,t<2?c.goToAndPlay(0,!0):c.removeEventListener("complete",e)})),c.goToAndPlay(0,!0)}d.timeScale(1).play();const e=helperFunctions.getMouseEnterDirection(t,a),n=helperFunctions.handleCardHoverIn(e,!0);helperFunctions.animateCardHover(i,n.start,n.end)})),$(a).on("mouseleave",(t=>{d.timeScale(1.5).reverse();const e=helperFunctions.getMouseEnterDirection(t,a),n=helperFunctions.handleCardHoverOut(e,!0);helperFunctions.animateCardHover(i,n.start,n.end)}))})),function(){const t=$(a).find("[data-animate=divider][data-direction=vertical]"),e=$(a).find("[data-animate=divider][data-direction=horizontal]"),i=$(a).find("[data-animate=section-headline]"),n=$(a).find("[data-animate=card-item-headline]"),r=$(a).find("[data-animate=card-item-text]"),o=$(a).find("[data-animate=card-item-testimonial-name]"),l=new SplitType(r,{types:"lines"});let c;i.length>0&&(c=new SplitType(i,{types:"chars,words"}));const d=gsap.timeline({defaults:{duration:1,ease:"power2.out"}});d.fromTo(t,{clipPath:centerVerticalClipPath},{clipPath:fullClipPath}).fromTo(e,{clipPath:centerHorizontalClipPath},{clipPath:fullClipPath},"<").fromTo(l.lines,{clipPath:bottomClipPath,yPercent:100},{clipPath:fullClipPath,yPercent:0,stagger:.05},"<+0.25").from(n,{yPercent:100,stagger:.1},"<"),o.length>0&&d.from(o,{yPercent:100,stagger:.25},"<+0.25"),i.length>0&&d.from(c.chars,{yPercent:150,ease:"power4.out",rotateZ:5,stagger:.01},0),ScrollTrigger.create({animation:d,trigger:a,start:"top bottom",end:"top 50%",toggleActions:"none play none reset"})}()}))}))}export function killCardList(){ctx&&ctx.revert()}